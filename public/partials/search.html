<md-toolbar class="md-medium-tall" layout-align="center">
  <div class="md-toolbar-tools" layout="column" layout-align="center center">
    <md-input-container class="search-input">
      <label>Keywords</label>
      <input type="text" ng-model="searchParams.keywords">
    </md-input-container>
    <md-input-container class="search-input">
      <input places-auto-complete type="text" on-place-changed="placeChanged()">
    </md-input-container>
  </div>
</md-toolbar>
<div id="results" flex layout="column">
  <!-- Expandable part of toolbar -->
  <div class="expandable" layout="column">
    <md-toolbar ng-show="showingAdvanced" layout-align="center">
      <div layout="row" layout-align="center">
        <md-input-container class="date">
          <label>From</label>
          <md-datepicker ng-model="searchParams.startDate"></md-datepicker>
        </md-input-container>
        <md-input-container class="date">
          <label>Until</label>
          <md-datepicker ng-model="searchParams.endDate"></md-datepicker>
        </md-input-container>
      </div>
      <div layout="row">
        <div flex="50" layout="column" class="categories">
          <md-checkbox ng-model="searchParams.categories.museums">Museums</md-checkbox>
          <md-checkbox ng-model="searchParams.categories.architecture">Architecture</md-checkbox>
          <md-checkbox ng-model="searchParams.categories.nature">Nature</md-checkbox>
          <md-checkbox ng-model="searchParams.categories.food">Food</md-checkbox>
        </div>
        <div flex="50" layout="column" class="categories">
          <md-checkbox ng-model="searchParams.categories.recreation">Recreation</md-checkbox>
          <md-checkbox ng-model="searchParams.categories.fitness">Fitness</md-checkbox>
          <md-checkbox ng-model="searchParams.categories.historical">Historical</md-checkbox>
          <md-checkbox ng-model="searchParams.categories.nightlife">Nightlife</md-checkbox>
        </div>
      </div>
    </md-toolbar>
    <md-toolbar class="expand-button" md-ink-ripple="true" layout-align="center center" layout ng-click="showingAdvanced = !showingAdvanced" >
        <i class="fa fa-chevron-down" aria-hidden="true"></i>
    </md-toolbar>
  </div>

  <!-- Map View -->
  <ng-map ng-hide="listView" id="searchmap"
    disable-default-u-i="true" default-style="false"
    center="current-position"
    on-center-changed="centerChanged()"
    geo-fallback-center="[40.109387, -88.2272456]">
    <marker ng-repeat="result in results" id="{{$index}}"
      position="{{result.locations[0].lat}},{{result.locations[0].lng}}"
      on-click="clickedMarker()"></marker>
    <custom-marker ng-repeat="result in results"
      position="{{result.locations[0].lat}},{{result.locations[0].lng}}">
      <div class="marker-label">{{result.title}}</div>
    </custom-marker>
  </ng-map>

  <!-- List View -->
  <md-content class="search-list" flex ng-show="listView">
    <md-list>
      <md-list-item class="md-2-line" ng-repeat="result in results">
        <div class="md-list-item-text">
          <h3>{{result.title}}</h3>
          <p>{{result.description}}</p>
        </div>
        <md-divider></md-divider>
      </md-list-item>
    </md-list>
  </md-content>

  <!-- Button -->
  <md-button class="md-fab list-btn" aria-label="FAB" ng-click="listView = !listView">
  </md-button>
</div>
